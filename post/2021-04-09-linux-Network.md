
## 네트워크란?

- 네트워크란 지리적으로 떨어져 있는 다른 위치에 있는 장치 간에 정보를 교환하고, 장치 간 상호 접속하기 위해 사용하는 전기 통신 기기, 장치 전송로의 결합이다.

- 좁게는 컴퓨터 상호 간의 정보 교환과 정보 처리를 위한 데이터 통신망, 통신망 운영체계, 통신망 데이터베이스를 의미한다. 

- 즉, 통신 설비로 두 대 이상의 장치를 연결하는 것을 의미하는 것이다.

- 결국 네트워크란 컴퓨터와 단말기, 컴퓨터와 컴퓨터 등 두 대 이상의 장치를 서로 연결한 것이다. 

## 네트워크의 구성

![image](https://user-images.githubusercontent.com/77392444/114659955-706ac000-9d2f-11eb-9907-a4eff6bad45c.png)

- 같은 공유기에 묶인 IP들은 하나의 네트워크에 묶여 있다고 볼 수 있다. 

- 같은 네트워크끼리는 통신이 가능하지만, 다른 네트워크로 묶여있으면 통신할 수 없다. 

- 랜선 = 랜카드 = 네트워크카드
 - 랜카드 (Local Area Network Card) : 네트워크 안에서 컴퓨터 간의 통신을 할 때 사용하는 장치 

 
 ## 윈도우에서 네트워크 정보 확인해보기

- 명령 프롬프트에서 `ipconfig`명령어를 입력하면 IP주소, 서브넷마스크, 게이트웨이 주소, DNS 서버 주소 등 네트워크 정보를 확인할 수 있다. 

![image](https://user-images.githubusercontent.com/77392444/114118016-e7184f80-9922-11eb-8d62-c3f2ad654956.png)

- Vmware설치하면 기본적으로 두 개의 네트워크 `게이트웨이 겸 DNS서버`와 `DHCP서버`가 생성된다. (기본 설정은 VMnet8)
 
![image](https://user-images.githubusercontent.com/77392444/114661593-37801a80-9d32-11eb-897c-0f5a0742e9c3.png)

- Vmware내에 서버를 설치하면 각각 개별 IP를 할당한다.

- 또 Vmware가 깔린 윈도우os에도 IP를 할당한다. 

- 그래서 윈도우OS와 Vmware 가상머신 내의 리눅스OS들이 같은 네트워크로 묶여 통신할 수 있게 한다. 

## VMware에서 IP 확인하기

- IP주소 확인 : `ifconfig`

- 게이트웨이 정보 : `ip route` , `netstat -rn`

- DNS 서버 : `systemd-resolve --status ens33`

- 네트워크 설정 : `nm-connection-editor`

 - `nm`은 Network Manager의 약자이다. 

 - 네트워크 관련된 작업은 대부분 이 명령으로 설정 가능하다. 

- 네트워크 설정 변경 적용 : `systemctl start/stop/restart/status networking`
 - `nm-connection-editor` 명령 후에는 반드시 networking을 재시작 해줘야 한다. 

- DNS서버 작동 테스트 : `nslookup`

- DNS서버 정보 확인 : `systemd-resolve --status ens33`

- 네트워크 응답 테스트 : `ping IP주소` or `ping URL`
 - 상대 컴퓨터가 네트워크 상에서 아무 이상 없이 작동되는지 확인할 때 주로 사용한다. 


## IP란

- 8bit씩 4개의 번호로 이루어져 있다.

![image](https://user-images.githubusercontent.com/77392444/114662002-ee7c9600-9d32-11eb-94b2-6bcddf7f20a8.png)


- IP란 네트워크상에 연결된 컴퓨터를 유일하게 구분하는 번호 체계이다.

- 모든 컴퓨터에서 자기 자신을 의미하는 IP주소 = `localhost` = `127.0.0.1`

- 네트워크 주소 : 여러개 네트워크가 묶여 있을 때 묶여 있는 네트워크들을 식별하기 위한 주소이다. 

- 브로드캐스트 주소 : 같은 네트워크들에게 한꺼번에 메세지를 전송할 수 있는 주소로, 네트워크의 가장 마지막 주소이다.

- 게이트웨이 : 내부 네트워크를 외부와 연결하기 위한 컴퓨터 또는 장비이다. 게이트웨이에는 내부로 향하는 문, 외부로 향하는 문이 2개 있다고 볼 수 있다. 


##  공인 IP와 사설 IP

- 공인 IP란? 공인 기관에서 인증한 공개형 IP주소이다. 

- 임의로 아무 IP주소를 내 컴퓨터에 지정한다고 인터넷이 되는 것이 아니라 할당받은 공인 IP주소를 부여해야만 인터넷에 접속할 수 있다. 

- 사설 IP란? 사설 IP는 내부 통신 시 사용하는 주소로 외부 서버와는 통신할 수 없다. 

- 공인 IP주소가 부족할 경우 사용자가 임의로 사설 IP주소를 부여하고 공유기 등에 고정 IP를 부여해 인터넷에 접속할 수 있다. 

## IP주소에 대한 클래스

![image](https://user-images.githubusercontent.com/77392444/114662169-356a8b80-9d33-11eb-98b7-c68d4391add4.png)

- IP를 효율적으로 관리하기 위해 클래스를 나눈 것이다. 

## 서브넷

- IP를 클래스단위로만 사용하면 관리하기 힘들기 때문에 좀 더 작은 단위로 나눠 관리하기 위한 것이다.

## 서브넷 마스크

- 서브넷 마스크란 IP주소의 네트워크 아이디와 호스트 아이디를 구분하기 위한 것이다. 

- 같은 클래스 안에서 같은 네트워크를 가진 더 작은 그룹으로 나누기 위한 것이다. 

- 프리픽스 : 서브넷 마스크와 동일하지만 형식이 다른 것이다. 네트워크 아이디의 bit수를 세어 `/` 뒤에 숫자로 표기하는 것이다. 

## 서브넷 나누기




## 호스트 이름과 도메인 이름

- 호스트 이름(host name)은? 각각의 컴퓨터에 지정된 이름이다.

- 도메인 이름(domain name)은? hanbit.co.kr과 같은 형식으로 표기되는 이름이다.

- 같은 회사(도메인)에서 cookbook.hanbit.co.kr이라는 호스트(컴퓨터)는 유일하다.

## WAN & LAN

- WAN(Wide Area Network) : 중대형 영역의 네트워크 연결, 요즘 시대에는 다른 네트워크 연결을 WAN이라고 보면 된다. 라우터를 통하는 순간 바깥의 네트워크이다. 

- LAN(Local Area Network) : 작은 영역의 네트워크 연결, 요즘 시대에는 같은 네트워크 연결을 LAN이라고 보면 된다. 내부에서는 허브, 스위치를 쓴다.


## 허브와 스위치

- 허브와 스위치는 랜섬 꼽을 수 있는 물리적 연결 매체? 멀티탭 같은 것으로 같은 네트워크 라인에 여러 대의 컴퓨터를 분배하는 장치이다. 

- 허브와 스위치는 외부망으로 나가지 못하고, 네트워크를 만들어내지 못한다.

- 허브는 저가, 스위치는 고가이다. 

- 구글에 검색을 하면, 허브를 통해 구글 서버로 나갔다가 정보를 가지고 허브로 돌아오는데, 허브는 몇 번 컴퓨터가 보냈는지 알지 못해서 허브에 꽂혀 있는 모든 컴퓨터에 전송해 일치 여부를 일일히 확인한다.

- 허브는 한번에 하나의 컴퓨터에만 전송 가능하다.

- 반면, 네트워크 스위치는 동시에 여러 컴퓨터로 데이터를 전송할 수 있다. 

- 네트워크 스위치는 허브보다 높은 데이터 전송 대역을 가져 네트워크 속도가 더 빠르다. 

- 네트워크 스위치의 처리 가능한 패킷의 숫자가 크고, 송/수신이 동시에 일어날 수 있다. 

![image](https://user-images.githubusercontent.com/77392444/114664258-66988b00-9d36-11eb-8421-b2761b673f4a.png)


## 라우터

- 라우터는 서로 다른 다른 네트워크를 연결해주는 장치이다. 

- 라우터 자체로 내부 네트워크를 만들 수 있다. 

- 집에서 사용하는 공유기도 라우터 기능을 가지고 있다. (유무선 공유기는 라우터 기능, 스위치기능도 가지고 있다.)



## 방화벽 설정

- 리눅스에서는 방화벽 기능을 통해 손쉽게 특정 포트를 접속 가능/불가능하게 설정할 수 있다.

- 하지만 보안을 위해 외부에 서비스를 제공할 때만 필요한 포트를 열어주는 방식으로 사용하는 것이 좋다. 

- 텍스트 기반 방화벽 설정 : `ufw allow 80`

- GUI 기반 방화벽 설정 : `sudo apt-get install gufw` - `gufw`

## 서비스(데몬) 설정

- OS에 해당 서비스를 제공해주려고 대기중인 모듈을 서비스 또는 데몬이라고 한다. 

- 서비스(데몬) 설정 명령어 : `systemctl status/restart/stop/start 서비스 이름`

## NAT란?

- Network Address Translation의 약자로 네트워크 주소 변환 기술이다. 

- 네트워크 주소를 바꿔서 보내주는 이유는? 보안 때문이다. 

- 또 다른 이유는 대량의 컴퓨터에 일일히 공공 IP를 부여하기는 부담이 크기 때문이다.

- IP패킷에 있는 출발지 및 목적지의 IP 주소를 바꿔 재기록 하면서 네트워크 트래픽을 주고 받게 하는 기술이다. 

![image](https://user-images.githubusercontent.com/77392444/114667233-305d0a80-9d3a-11eb-8b26-dd892a9b6875.png)


## Port Forwarding

- 라우터 테이블에 Outside realm과 Inside realm을 매칭하여 작성해두고

컴퓨터 네트워크에서 패킷이 라우터나 방화벽과 같은 네트워크 게이트웨이를 가로지르는 동안 하나의 IP주소와 포트 번호 결합의 통신 요청을 

다른 곳으로 넘겨주는 네트워크 주소 변환(NAT)의 응용이다. 

- Port Forwarding 기법은 외부망 반대쪽에 위치한 내부망 호스트에 대한 서비스를 생성하기 위해 흔히 사용된다. 

- 통신하는 목적지 IP주소와 포트 번호를 내부 호스트에 다시 매핑함으로써 이루어진다. 

![image](https://user-images.githubusercontent.com/77392444/114667706-c5600380-9d3a-11eb-9137-fbd532756344.png)

